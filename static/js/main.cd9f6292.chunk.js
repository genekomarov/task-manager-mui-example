(this["webpackJsonptask-manager-mui-example"]=this["webpackJsonptask-manager-mui-example"]||[]).push([[0],{205:function(e,t,n){e.exports=n(259)},231:function(e,t,n){},259:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),s=n.n(c),i=n(16),o=n(37),u=n(154),l=n(7),d=n.n(l),m=n(14),f=n(31),p=n(39),E=n(6),b={clientSideData:{users:{items:[],deleted:[]},authData:{items:[],deleted:[]},projectsToUsers:{items:[],deleted:[]},projects:{items:[],deleted:[]},tasks:{items:[],deleted:[]}}},h=function(e,t){return{type:"ADD_ID_TO_DELETED",tableName:e,itemId:t}},g=function(e,t){return{type:"ADD_NEW_ITEM",tableName:e,item:t}},O=function(e,t){return{type:"DELETE_ITEM",tableName:e,itemId:t}},j=function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(h(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(g(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(O(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ID_TO_DELETED":return Object(E.a)(Object(E.a)({},e),{},{clientSideData:Object(E.a)(Object(E.a)({},e.clientSideData),{},Object(f.a)({},t.tableName,Object(E.a)(Object(E.a)({},e.clientSideData[t.tableName]),{},{deleted:[].concat(Object(p.a)(e.clientSideData[t.tableName].deleted),[t.itemId])})))});case"ADD_NEW_ITEM":return Object(E.a)(Object(E.a)({},e),{},{clientSideData:Object(E.a)(Object(E.a)({},e.clientSideData),{},Object(f.a)({},t.tableName,Object(E.a)(Object(E.a)({},e.clientSideData[t.tableName]),{},{items:[].concat(Object(p.a)(e.clientSideData[t.tableName].items),[t.item])})))});case"DELETE_ITEM":return Object(E.a)(Object(E.a)({},e),{},{clientSideData:Object(E.a)(Object(E.a)({},e.clientSideData),{},Object(f.a)({},t.tableName,Object(E.a)(Object(E.a)({},e.clientSideData[t.tableName]),{},{items:Object(p.a)(e.clientSideData[t.tableName].items).filter((function(e){return e.id!==t.itemId}))})))});default:return e}},w=n(155),T=function(e,t){return t?t.map((function(t){return"".concat(e,"=").concat(t,"&")})).toString().replace(/,/g,""):""},y=n.n(w).a.create({withCredentials:!0,baseURL:"https://my-json-server.typicode.com/genekomarov/task-manager_mui",headers:{}}),I=function(e,t){return y.get("/authData?email=".concat(e,"&password=").concat(t)).then((function(e){return e.data}))},_=function(e){return e.length?y.get("/users?".concat(T("id",e))).then((function(e){return e.data})):[]},N=function(e){return e.length?y.get("/projects-to-users?".concat(T("projectId",e))).then((function(e){return e.data})):[]},x=function(e){return e.length?y.get("/projects?".concat(T("id",e))).then((function(e){return e.data})):[]},D=function(e){return e.length?y.get("/projects-to-users?".concat(T("userId",e))).then((function(e){return e.data})):[]},C=function(e,t){return e||t?y.get("/tasks?".concat(T("project",e)).concat(T("author",t))).then((function(e){return e.data})):[]},F=function(e){return y.post("/tasks",e).then((function(e){return e.data}))},A=n(156),R=function e(){Object(A.a)(this,e),this.message=void 0,this.message="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c"},P=n(61),L=n.n(P),M={id:null,email:null,nickname:null,isAuth:!1,loginFormShown:!1,loginErrorMessage:null},U=function(e,t,n,a){return{type:"auth/SET_USER_DATA",id:e,email:t,nickname:n,isAuth:a}},W=function(e){return{type:"auth/SHOW_LOGIN_FORM",loginFormShown:e}},K=function(e){return{type:"auth/SET_LOGIN_ERROR_MESSAGE",loginErrorMessage:e}},G=function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(a){var r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e,t);case 3:if(0!==(r=n.sent).length){n.next=6;break}throw new R;case 6:return n.next=8,_([r[0].id]);case 8:if(c=n.sent,0!==r.length){n.next=11;break}throw new R;case 11:a(U(r[0].id,r[0].email,c[0].nickname,!0)),a(W(!1)),a(K(null)),L.a.set("email",e),L.a.set("password",t),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),a(K("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b email \u0438\u043b\u0438 password!"));case 21:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(e){return n.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(W(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(E.a)(Object(E.a)({},e),{},{id:t.id,email:t.email,nickname:t.nickname,isAuth:t.isAuth});case"auth/SHOW_LOGIN_FORM":return Object(E.a)(Object(E.a)({},e),{},{loginFormShown:t.loginFormShown});case"auth/SET_LOGIN_ERROR_MESSAGE":return Object(E.a)(Object(E.a)({},e),{},{loginErrorMessage:t.loginErrorMessage});default:return e}},H={ROOT:"/",MY_TASKS:"/my-tasks",USER_TASKS:"/user",PAGE_404:"/404"},J={isInitialized:!1,errors:[],route:H.ROOT},V=function(e){return{type:"app/SET_INITIALIZED",isInitialized:e}},Y=function(e){return{type:"app/ADD_ERROR",message:e}},Z=function(e){return{type:"app/SET_ROUTE",route:e}},X=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Y(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITIALIZED":return Object(E.a)(Object(E.a)({},e),{},{isInitialized:t.isInitialized});case"app/ADD_ERROR":return Object(E.a)(Object(E.a)({},e),{},{errors:[].concat(Object(p.a)(e.errors),[t.message])});case"app/SET_ROUTE":return Object(E.a)(Object(E.a)({},e),{},{route:t.route});default:return e}},q={projects:[],isFetching:!1,selectedProjectId:null},Q=function(e){return{type:"projects/SET_PROJECTS",projects:e}},ee=function(e){return{type:"projects/SET_FETCHING",isFetching:e}},te=function(e){return{type:"projects/SET_SELECTED_PROJECT_ID",selectedProjectId:e}},ne=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(te(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"projects/SET_PROJECTS":return Object(E.a)(Object(E.a)({},e),{},{projects:t.projects});case"projects/SET_FETCHING":return Object(E.a)(Object(E.a)({},e),{},{isFetching:t.isFetching});case"projects/SET_SELECTED_PROJECT_ID":return Object(E.a)(Object(E.a)({},e),{},{selectedProjectId:t.selectedProjectId});default:return e}},re={users:[],isFetching:!1,selectedUserId:null},ce=function(e){return{type:"users/SET_USERS",users:e}},se=function(e){return{type:"users/SET_FETCHING",isFetching:e}},ie=function(e){return{type:"users/SET_SELECTED_USER_ID",selectedUserId:e}},oe=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(ie(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(ce(e)),n(se(!1));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/SET_USERS":return Object(E.a)(Object(E.a)({},e),{},{users:t.users});case"users/SET_FETCHING":return Object(E.a)(Object(E.a)({},e),{},{isFetching:t.isFetching});case"users/SET_SELECTED_USER_ID":return Object(E.a)(Object(E.a)({},e),{},{selectedUserId:t.selectedUserId});default:return e}},de=function(e,t,n){return null!==n?!0===n?e.isDone===t.isDone?0:e.isDone>t.isDone?-1:1:e.isDone===t.isDone?0:e.isDone<t.isDone?-1:1:0},me=function(e,t,n){var a=e.date-t.date;return!0===n?-1*a:a},fe={tasks:[],filteredTasks:[],isFetching:!1,filter:{userIds:null,status:null,content:null},sort:{firstCompleted:null,firstNew:null},countOfShownTasks:0,idCounter:1e3,addNewTaskInProcess:!1},pe=function(e){return{type:"tasks/SET_TASKS",tasks:e}},Ee=function(e){return{type:"tasks/SET_FETCHING",isFetching:e}},be=function(e){return{type:"tasks/SET_FILTER",filter:e}},he=function(e){return{type:"tasks/SET_SORT",sort:e}},ge=function(e){return{type:"tasks/SET_COUNT_OF_SHOWN_TASKS",countOfShownTasks:e}},Oe=function(e,t,n){return{type:"tasks/CHANGE_TASK",taskId:e,status:t,title:n}},je=function(e){return{type:"tasks/DELETE_TASK",taskId:e}},ve=function(e){return{type:"tasks/NEW_TASK",task:e}},ke=function(e){return{type:"tasks/SET_ADDING_NEW_TASK_IN_PROGRESS",inProgress:e}},Se=function(e){return{type:"tasks/SET_FILTERED_TASKS",tasks:e}},we=function(e,t){return function(){var n=Object(m.a)(d.a.mark((function n(a,r){var c,s,i,o,u,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=r(),s=c.clientSideDb.clientSideData.tasks,i=c.projects.selectedProjectId,o=c.app.route,n.prev=4,n.next=7,C(e,t);case 7:return u=n.sent,l=u.filter((function(e){return!s.deleted.filter((function(t){return t===e.id})).length})).concat(o===H.ROOT?s.items.filter((function(e){return e.project===i})):s.items),a(pe(l)),a(be({userIds:null,status:null,content:""})),a(he({firstNew:null,firstCompleted:null})),n.next=14,a(_e());case 14:a(Ee(!1)),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(4),a(X(n.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0434\u0430\u0447"));case 20:case"end":return n.stop()}}),n,null,[[4,17]])})));return function(e,t){return n.apply(this,arguments)}}()},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(m.a)(d.a.mark((function n(a){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&a(be({userIds:void 0!==e.userIds?null:void 0,status:void 0!==e.status?null:void 0,content:void 0!==e.content?null:void 0})),a(be(e)),a(_e());case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(he(e)),n(_e());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(pe(e)),t.next=3,n(_e());case 3:n(Ee(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_e=function(){return function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a,r,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.tasks.tasks,c=a.tasks.filter,s=a.tasks.sort,i=(i=r.filter((function(e){var t=null===c.status||e.isDone===c.status,n=!(c.userIds&&c.userIds.length>0)||c.userIds.filter((function(t){return t===e.author})).length>0,a=!c.content||e.title.match(new RegExp(c.content,"gi"));return t&&n&&a}))).sort((function(e,t){var n=de(e,t,s.firstCompleted),a=me(e,t,s.firstNew);return 0!==n?n:a})),t(ge(i.length)),t(Se(i));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(m.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().auth.id,t(Ee(!0)),t(ne(null)),null===a){e.next=6;break}return e.next=6,t(we([],[a]));case 6:t(Ee(!1));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"tasks/SET_TASKS":return Object(E.a)(Object(E.a)({},e),{},{tasks:t.tasks});case"tasks/SET_FETCHING":return Object(E.a)(Object(E.a)({},e),{},{isFetching:t.isFetching});case"tasks/SET_FILTER":return Object(E.a)(Object(E.a)({},e),{},{filter:Object(E.a)(Object(E.a)({},e.filter),{},{userIds:void 0===t.filter.userIds?e.filter.userIds:null===t.filter.userIds?null:e.filter.userIds?[].concat(Object(p.a)(e.filter.userIds),Object(p.a)(t.filter.userIds)):Object(p.a)(t.filter.userIds),status:void 0===t.filter.status?e.filter.status:t.filter.status,content:void 0===t.filter.content?e.filter.content:t.filter.content})});case"tasks/SET_SORT":return Object(E.a)(Object(E.a)({},e),{},{sort:Object(E.a)(Object(E.a)({},e.sort),{},{firstCompleted:void 0===t.sort.firstCompleted?e.sort.firstCompleted:t.sort.firstCompleted,firstNew:void 0===t.sort.firstNew?e.sort.firstNew:t.sort.firstNew})});case"tasks/SET_COUNT_OF_SHOWN_TASKS":return Object(E.a)(Object(E.a)({},e),{},{countOfShownTasks:t.countOfShownTasks});case"tasks/DELETE_TASK":return Object(E.a)(Object(E.a)({},e),{},{tasks:Object(p.a)(e.tasks.filter((function(e){return e.id!==t.taskId})))});case"tasks/CHANGE_TASK":var n=e.tasks.findIndex((function(e){return e.id===t.taskId}));return-1===n?e:Object(E.a)(Object(E.a)({},e),{},{tasks:[].concat(Object(p.a)(e.tasks.filter((function(e){return e.id!==t.taskId}))),[Object(E.a)(Object(E.a)({},e.tasks[n]),{},{isDone:t.status,title:t.title})])});case"tasks/NEW_TASK":return Object(E.a)(Object(E.a)({},e),{},{tasks:[].concat(Object(p.a)(e.tasks),[{id:t.task.id,project:t.task.project,author:t.task.author,date:t.task.date,title:t.task.title,isDone:t.task.isDone}]),idCounter:e.idCounter+1});case"tasks/SET_ADDING_NEW_TASK_IN_PROGRESS":return Object(E.a)(Object(E.a)({},e),{},{addNewTaskInProcess:t.inProgress});case"tasks/SET_FILTERED_TASKS":return Object(E.a)(Object(E.a)({},e),{},{filteredTasks:t.tasks});default:return e}},De=Object(o.c)({api:S,auth:B,projects:ae,users:le,tasks:xe,app:$,clientSideDb:S}),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,Fe=Object(o.e)(De,Ce(Object(o.a)(u.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=n(109),Re=n(36),Pe=(n(231),n(17)),Le=n(305),Me=n(301),Ue=n(20),We=n(328),Ke=n(326),Ge=n(329),ze=n(331),Be=n(310),He=n(309),Je=n(124),Ve=n.n(Je),Ye=n(63),Ze=n(265),Xe=n(306),$e=n(307),qe=n(302),Qe=n(308),et=n(71),tt=n.n(et),nt=n(72),at=n.n(nt),rt=n(157),ct=n.n(rt),st=n(159),it=n.n(st),ot=n(158),ut=n.n(ot),lt=Object(Le.a)((function(e){return Object(Me.a)({root:{display:"flex",flexDirection:"column"},progress:{alignSelf:"center",margin:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}})})),dt={getProjects:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(ee(!0)),t.next=4,D(e);case 4:return a=t.sent,t.next=7,x(a.map((function(e){return e.projectId})));case 7:r=t.sent,n(Q(r)),n(te(r[0].id)),n(ee(!1)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},setProjects:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Q(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setSelectedProjectId:ne,setSelectedUserId:oe,setFilter:Te,setSort:ye},mt=Object(i.b)((function(e){return{isFetching:e.projects.isFetching,isAuth:e.auth.isAuth,projects:e.projects.projects,myId:e.auth.id,selectedProjectId:e.projects.selectedProjectId}}),dt)((function(e){var t=lt(),n=r.a.useState(!0),c=Object(Re.a)(n,2),s=c[0],i=c[1],o=e.myId,u=e.getProjects,l=e.setProjects;Object(a.useEffect)((function(){null!==o?u([o]):l([])}),[o,u,l]);return r.a.createElement("div",{className:t.root},r.a.createElement(Ze.a,{button:!0,onClick:function(){i(!s)}},r.a.createElement(Xe.a,null,r.a.createElement(ct.a,null)),r.a.createElement($e.a,{primary:"\u041f\u0440\u043e\u0435\u043a\u0442\u044b",primaryTypographyProps:{variant:"body1"}}),s?r.a.createElement(tt.a,null):r.a.createElement(at.a,null)),e.isFetching&&e.isAuth?r.a.createElement(Qe.a,{className:t.progress}):r.a.createElement(qe.a,{in:s,timeout:"auto",unmountOnExit:!0},e.isAuth&&e.projects.map((function(n){return r.a.createElement(He.a,{component:"div",disablePadding:!0,key:n.id},r.a.createElement(Ze.a,{className:t.nested,onClick:function(){return t=n.id,e.setSelectedProjectId(t),e.setFilter({userIds:null,status:null,content:null}),e.setSort({firstCompleted:null,firstNew:null}),void e.setSelectedUserId(null);var t},to:"/",component:Ye.b},r.a.createElement(Xe.a,null,n.id===e.selectedProjectId?r.a.createElement(ut.a,null):r.a.createElement(it.a,null)),r.a.createElement($e.a,{primary:n.projectName})))}))))})),ft=n(102),pt=n.n(ft),Et=n(160),bt=n.n(Et),ht=n(162),gt=n.n(ht),Ot=n(161),jt=n.n(Ot),vt=Object(Le.a)((function(e){return Object(Me.a)({root:{display:"flex",flexDirection:"column"},progress:{alignSelf:"center",margin:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}})})),kt={getUsersByProjectIds:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(se(!0)),t.next=4,N(e);case 4:return a=t.sent,t.next=7,_(a.map((function(e){return e.userId})));case 7:return r=t.sent,t.next=10,n(ue(r));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},getUsersByIds:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(se(!0)),t.next=4,_(e);case 4:return a=t.sent,t.next=7,n(ue(a));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setUsers:ue,setSelectedUserId:oe,setFilter:Te},St=Object(o.d)(Pe.d,Object(i.b)((function(e){return{isFetching:e.users.isFetching,isAuth:e.auth.isAuth,selectedProjectId:e.projects.selectedProjectId,users:e.users.users,selectedUserId:e.users.selectedUserId,tasks:e.tasks.tasks,myId:e.auth.id}}),kt))((function(e){var t=vt(),n=r.a.useState(!0),c=Object(Re.a)(n,2),s=c[0],i=c[1],o=e.selectedProjectId,u=e.getUsersByProjectIds,l=e.setUsers,d=e.myId,m=e.getUsersByIds,f=e.history.location.pathname;Object(a.useEffect)((function(){switch(f){case H.ROOT:null!==o?u([o]):l([]);break;case H.MY_TASKS:null!==d?m([d]):l([]);break;default:l([])}}),[o,l,u,f,d,m]);return r.a.createElement("div",{className:t.root},r.a.createElement(Ze.a,{button:!0,onClick:function(){i(!s)}},r.a.createElement(Xe.a,null,r.a.createElement(bt.a,null)),r.a.createElement($e.a,{primary:"\u041a\u043e\u043c\u0430\u043d\u0434\u0430",primaryTypographyProps:{variant:"body1"}}),s?r.a.createElement(tt.a,null):r.a.createElement(at.a,null)),e.isFetching&&e.isAuth?r.a.createElement(pt.a,{className:t.progress}):r.a.createElement(qe.a,{in:s,timeout:"auto",unmountOnExit:!0},e.isAuth&&e.users.map((function(n){return r.a.createElement(He.a,{component:"div",disablePadding:!0,key:n.id},r.a.createElement(Ze.a,{button:!0,className:t.nested,onClick:function(){return t=n.id,e.setSelectedUserId(t),void e.setFilter({userIds:[t],status:void 0,content:void 0},!0);var t}},r.a.createElement(Xe.a,null,n.id===e.selectedUserId?r.a.createElement(jt.a,null):r.a.createElement(gt.a,null)),r.a.createElement($e.a,{primary:"".concat(n.nickname," (").concat(e.tasks.filter((function(e){return e.author===n.id})).length,")")})))}))))})),wt=Object(Le.a)((function(e){return Object(Me.a)({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},verticalSpacing:{display:"flex",alignItems:"center",padding:e.spacing(2,1),justifyContent:"flex-end"}})})),Tt=function(){var e=wt();return r.a.createElement(He.a,{component:"nav",subheader:r.a.createElement(Be.a,{component:"div"},"\u041c\u0435\u043d\u044e"),className:e.root},r.a.createElement(Ve.a,null),r.a.createElement(mt,null),r.a.createElement("div",{className:e.verticalSpacing}),r.a.createElement(St,null),r.a.createElement(Ve.a,null))},yt=n(56),It=n(311),_t=n(317),Nt=n(313),xt=n(314),Dt=n(315),Ct=n(66),Ft=n(316),At=n(268),Rt=n(266),Pt=n(271),Lt=n(267),Mt={showLoginForm:z,login:G,setLoginErrorMessage:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(K(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Ut=Object(i.b)((function(e){return{loginErrorMessage:e.auth.loginErrorMessage}}),Mt)((function(e){var t=function(){e.showLoginForm(!1)};return r.a.createElement("div",null,r.a.createElement(It.a,{open:!0,onClose:t},r.a.createElement(yt.b,{initialValues:{email:"",password:""},validate:function(e){var t,n={};return e.email?(t=e.email,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||(n.email="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430")):n.email="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",e.password||(n.password="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),n},onSubmit:function(t,n){var a=n.setSubmitting;setTimeout(Object(m.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setLoginErrorMessage(null),n.next=3,e.login(t.email,t.password);case 3:a(!1);case 4:case"end":return n.stop()}}),n)}))),0)}},(function(n){var a=n.values,c=n.errors,s=n.touched,i=n.handleChange,o=n.handleBlur,u=n.handleSubmit,l=n.isSubmitting;return r.a.createElement(yt.a,{onSubmit:u},r.a.createElement(Nt.a,null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(xt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(Ct.a,{variant:"caption"},"test user data. email: 'testuser@email.com' password: 'testuser_pass'")),r.a.createElement(Rt.a,{fullWidth:!0,error:!!c.email&&s.email},r.a.createElement(Pt.a,{htmlFor:"email"},"Email"),r.a.createElement(Lt.a,{name:"email",type:"text",value:a.email,onChange:i,onBlur:o}),r.a.createElement(At.a,{id:"email-error"},c.email&&s.email&&c.email)),r.a.createElement("br",null),r.a.createElement(Rt.a,{fullWidth:!0,error:!!c.password&&s.password},r.a.createElement(Pt.a,{htmlFor:"password"},"Password"),r.a.createElement(Lt.a,{name:"password",type:"password",value:a.password,onChange:i,onBlur:o}),r.a.createElement(At.a,{id:"password-error"},c.email&&s.email&&c.email))),e.loginErrorMessage&&r.a.createElement(xt.a,null,r.a.createElement(At.a,{id:"my-helper-text",error:!0},e.loginErrorMessage)),r.a.createElement(Ft.a,null,r.a.createElement(_t.a,{onClick:function(){return u()},color:"primary",disabled:l},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(_t.a,{onClick:t,color:"primary",disabled:l},"\u041e\u0442\u043c\u0435\u043d\u0430")))}))))})),Wt=n(182),Kt=Object(Le.a)((function(e){return Object(Me.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),Gt=function(e){var t=Kt();return r.a.createElement(Wt.a,{className:t.backdrop,open:e.open},r.a.createElement(Qe.a,{color:"inherit"}))},zt=n(321),Bt=n(319),Ht=n(322),Jt=n(168),Vt=n.n(Jt),Yt=n(318),Zt=n(179),Xt=n(126),$t=n.n(Xt),qt=n(165),Qt=n.n(qt),en=Object(Le.a)((function(e){return Object(Me.a)({grow:{flexGrow:1},title:Object(f.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(f.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(f.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),authorizedUserNickname__typography:{marginRight:e.spacing(2),alignSelf:"center"}})})),tn={logout:function(){return function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.a.remove("email"),L.a.remove("password"),t(U(null,null,null,!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},showLoginForm:z},nn=Object(i.b)((function(e){return{countOfShownTasks:e.tasks.countOfShownTasks,myNickname:e.auth.nickname,isAuth:e.auth.isAuth}}),tn)((function(e){var t=en(),n=r.a.useState(null),c=Object(Re.a)(n,2),s=c[0],i=c[1],o=r.a.useState(null),u=Object(Re.a)(o,2),l=u[0],d=u[1],m=Boolean(s),f=Boolean(l),p=e.isAuth?e.countOfShownTasks:0;Object(a.useEffect)((function(){document.title="(".concat(p,") \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437\u0430\u0434\u0430\u0447")}),[p]);var E=function(e){i(e.currentTarget)},b=function(){d(null)},h=function(){i(null),b()},g=function(){e.showLoginForm(!0)},O=r.a.createElement(Zt.a,{anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:h},r.a.createElement(Yt.a,{onClick:function(){h(),e.logout()}},"\u0412\u044b\u0439\u0442\u0438")),j=r.a.createElement(Zt.a,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:b},e.isAuth?r.a.createElement(Yt.a,{onClick:E},r.a.createElement(Bt.a,{color:"inherit"},r.a.createElement($t.a,null)),r.a.createElement("p",null,e.myNickname)):r.a.createElement(Yt.a,{onClick:g},"\u0412\u043e\u0439\u0442\u0438"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{className:t.title,variant:"h6",noWrap:!0},"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0437\u0430\u0434\u0430\u0447 (".concat(p,")")),r.a.createElement("div",{className:t.grow}),e.isAuth?r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(Ct.a,{className:t.authorizedUserNickname__typography,variant:"body1"},e.myNickname),r.a.createElement(Bt.a,{edge:"end",onClick:E,color:"inherit"},r.a.createElement($t.a,null))):r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(_t.a,{color:"inherit",onClick:g},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:t.sectionMobile},r.a.createElement(Bt.a,{onClick:function(e){d(e.currentTarget)},color:"inherit"},r.a.createElement(Qt.a,null))),j,O)})),an=n(320),rn={selectMyTasks:Ne,setSelectedProjectId:ne,setTasks:Ie},cn=Object(i.b)((function(e){return{projects:e.projects.projects,route:e.app.route}}),rn)((function(e){return r.a.createElement("div",null,r.a.createElement(an.a,{selected:e.route===H.ROOT,onClick:function(){return e.setSelectedProjectId(e.projects[0].id)},label:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043f\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c",href:"/",to:"/",component:Ye.b}),r.a.createElement(an.a,{selected:e.route===H.MY_TASKS,label:"\u041c\u043e\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 (\u0412\u0441\u0435)",href:"/my-tasks",to:"/my-tasks",component:Ye.b}))})),sn=n(166),on=n.n(sn),un=n(167),ln=n.n(un),dn=function(e){var t=e.children,n=e.window,a=on()({target:n?n():void 0});return r.a.createElement(ln.a,{appear:!1,direction:"down",in:!a},t)},mn=Object(Le.a)((function(e){return Object(Me.a)({appBar:Object(f.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(f.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"})})})),fn=function(){var e=mn(),t=r.a.useState(!1),n=Object(Re.a)(t,2),a=n[0],c=n[1];return r.a.createElement(dn,null,r.a.createElement(zt.a,{position:"fixed",className:e.appBar},r.a.createElement(Ht.a,null,r.a.createElement(Bt.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){c(!a)},className:e.menuButton},r.a.createElement(Vt.a,null)),r.a.createElement(nn,null)),r.a.createElement(cn,null)))},pn=n(324),En=n(323),bn=n(332),hn=n(186),gn=n(169),On=n.n(gn),jn=function(e,t,n){return function(a){"Enter"!==a.key||a.ctrlKey?"Enter"===a.key&&a.ctrlKey&&t(function(e){var t=e.currentTarget.value,n=e.currentTarget.selectionStart,a=e.currentTarget.selectionEnd;return e.currentTarget.value=t.slice(0,null!==n?n:void 0)+"\n"+t.slice(null!==a?a:void 0,t.length),e.currentTarget.selectionStart=n?n+1:t.length-1,e.currentTarget.selectionEnd=n?n+1:t.length-1,e}(a)):/Windows NT/.test(n)&&(e(),a.preventDefault(),a.currentTarget.blur())}},vn=Object(Le.a)((function(e){return Object(Me.a)({checkbox_cursor_default:{cursor:"default"}})})),kn={deleteTask:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(je(e)),t.next=4,n(j("tasks",e));case 4:return t.next=6,n(k("tasks",e));case 6:n(_e()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},changeTask:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Oe(e.id,e.isDone,e.title)),t.next=4,n(j("tasks",e.id));case 4:return t.next=6,n(k("tasks",e.id));case 6:return t.next=8,n(v("tasks",e));case 8:return t.next=10,n(_e());case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}},Sn=Object(i.b)((function(e){return{users:e.users.users,projects:e.projects.projects,myId:e.auth.id}}),kn)((function(e){var t,n=vn(),a=e.task,c=function(e,t){return e.filter((function(e){return e.id===t}))[0]},s=function(e,t){return e.filter((function(e){return e.id===t}))[0]},i=a.author===e.myId?r.a.createElement(yt.b,{enableReinitialize:!0,initialTouched:{title:!1},initialValues:{title:a.title},onSubmit:function(t,n){var r=n.setSubmitting;setTimeout((function(){var n;""===t.title?t.title=a.title:(n=t.title,a.author===e.myId&&e.changeTask(Object(E.a)(Object(E.a)({},a),{},{isDone:a.isDone,title:n}))),r(!1)}),0)}},(function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit;return r.a.createElement(yt.a,{onSubmit:a},r.a.createElement(hn.a,{name:"title",type:"text",fullWidth:!0,multiline:!0,value:t.title,onChange:n,onBlur:function(){a()},onKeyDown:jn(a,n,navigator.userAgent)}))})):a.title,o="".concat((t=new Date(a.date),"".concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getMonth()<9?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getFullYear()," ").concat(t.getHours()<10?"0".concat(t.getHours()):t.getHours(),":").concat(t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes()))," - ").concat(c(e.users,a.author)?c(e.users,a.author).nickname:""," - ").concat(s(e.projects,a.project)?s(e.projects,a.project).projectName:"");return r.a.createElement(Ze.a,{role:void 0},r.a.createElement(Xe.a,{onChange:function(){a.author===e.myId&&e.changeTask(Object(E.a)(Object(E.a)({},a),{},{isDone:!a.isDone,title:a.title}))}},r.a.createElement(bn.a,{className:a.author!==e.myId?n.checkbox_cursor_default:"",color:"secondary",edge:"start",checked:a.isDone,tabIndex:-1,disableRipple:!0,disabled:a.author!==e.myId})),r.a.createElement($e.a,{primary:i,secondary:o}),a.author===e.myId&&r.a.createElement(En.a,null,r.a.createElement(Bt.a,{onClick:function(){e.deleteTask(a.id)},edge:"end"},r.a.createElement(On.a,null))))})),wn=n(272),Tn=n(170),yn=n.n(Tn),In=Object(Le.a)((function(e){return Object(Me.a)({textFieldWrapper_marginRight_20px:{marginRight:"20px"}})})),_n={newTask:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(ke(!0)),t.next=4,F(e);case 4:return n(ve(e)),t.next=7,n(v("tasks",e));case 7:return t.next=9,n(_e());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(X(t.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438"));case 14:return t.prev=14,n(ke(!1)),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()}},Nn=Object(i.b)((function(e){return{idCounter:e.tasks.idCounter,selectedProjectId:e.projects.selectedProjectId,myId:e.auth.id,inProgress:e.tasks.addNewTaskInProcess}}),_n)((function(e){var t=In();return r.a.createElement(yt.b,{initialValues:{title:""},onSubmit:function(t,n){var a=n.setSubmitting;setTimeout((function(){var n,r,c,s,i,o;""===t.title?a(!1):(null!==e.selectedProjectId&&null!==e.myId&&(n=e.idCounter,r=e.selectedProjectId,c=e.myId,s=Date.now(),i=t.title,o=!1,e.newTask({id:n,project:r,author:c,date:s,title:i,isDone:o})),t.title=""),a(!1)}),0)}},(function(n){var a=n.values,c=n.handleChange,s=n.handleSubmit;return r.a.createElement(yt.a,{onSubmit:s},r.a.createElement(Ze.a,{role:void 0},r.a.createElement($e.a,{primary:r.a.createElement("div",{className:t.textFieldWrapper_marginRight_20px},r.a.createElement(Rt.a,{variant:"outlined",fullWidth:!0},r.a.createElement(wn.a,{name:"title",type:"title",multiline:!0,placeholder:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430...",value:a.title,onChange:c,onKeyDown:jn(s,c,navigator.userAgent),disabled:e.inProgress})))}),r.a.createElement(En.a,null,r.a.createElement(Bt.a,{onClick:function(){s()},edge:"end",disabled:e.inProgress},r.a.createElement(yn.a,{fontSize:"large"})))))}))})),xn=Object(Le.a)((function(e){return Object(Me.a)({root:{width:"100%",backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column"},progress:{alignSelf:"center",margin:e.spacing(2)}})})),Dn={setFetching:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(Ee(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getTasks:we,setTasks:Ie,selectMyTasks:Ne},Cn=Object(o.d)(Pe.d,Object(i.b)((function(e){return{isFetching:e.tasks.isFetching,isAuth:e.auth.isAuth,selectedProjectId:e.projects.selectedProjectId,filteredTasks:e.tasks.filteredTasks,route:e.app.route,projects:e.projects.projects}}),Dn))((function(e){var t=xn(),n=e.setFetching,c=e.selectedProjectId,s=e.getTasks,i=e.setTasks,o=e.route,u=e.projects,l=e.selectMyTasks,d=e.history.location.pathname;return Object(a.useEffect)((function(){switch(d){case H.ROOT:null!==c&&s([c],null);break;case H.MY_TASKS:u.length>0&&l();break;default:i([])}}),[c,o,n,s,i,u,d,l]),r.a.createElement(pn.a,{maxWidth:"sm"},r.a.createElement(He.a,{className:t.root},e.isFetching&&e.isAuth?r.a.createElement(pt.a,{className:t.progress,size:50}):e.isAuth&&r.a.createElement("div",null,e.filteredTasks.map((function(e){return r.a.createElement(Sn,{key:e.id,task:e})})),e.route===H.ROOT&&null!==e.selectedProjectId&&r.a.createElement(Nn,null))))})),Fn=n(178),An=n.n(Fn),Rn=n(171),Pn=n.n(Rn),Ln=n(172),Mn=n.n(Ln),Un=n(173),Wn=n.n(Un),Kn=n(174),Gn=n.n(Kn),zn={setFilter:Te,setSort:ye},Bn=Object(i.b)(null,zn)((function(e){return r.a.createElement(Pn.a,null,e.children,r.a.createElement(Mn.a,null,r.a.createElement(Wn.a,{onClick:function(){switch(e.rowNumber){case 1:e.setSort({firstCompleted:null,firstNew:null}),e.setFilter({userIds:void 0,status:null,content:void 0});break;case 2:e.setFilter({userIds:null,status:void 0,content:void 0});break;case 3:e.setFilter({userIds:void 0,status:void 0,content:null})}},edge:"end","aria-label":"delete"},r.a.createElement(Gn.a,null))))})),Hn=n(270),Jn=n(325),Vn=n(175),Yn=n.n(Vn),Zn=Object(Le.a)((function(e){return Object(Me.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),Xn={setSort:ye},$n=Object(i.b)((function(e){return{sort:e.tasks.sort}}),Xn)((function(e){var t=Zn();return r.a.createElement("div",null,r.a.createElement(Rt.a,{className:t.formControl},r.a.createElement(Hn.a,{value:null!==e.sort.firstCompleted?!0===e.sort.firstCompleted?"CLOSE_FIRST":"OPEN_FIRST":null!==e.sort.firstNew?!0===e.sort.firstNew?"NEW_FIRST":"OLD_FIRST":"",onChange:function(t){switch(t.target.value){case"CLOSE_FIRST":e.setSort({firstCompleted:!0,firstNew:!1});break;case"OPEN_FIRST":e.setSort({firstCompleted:!1,firstNew:!1});break;case"NEW_FIRST":e.setSort({firstCompleted:null,firstNew:!0});break;case"OLD_FIRST":e.setSort({firstCompleted:null,firstNew:!1});break;default:e.setSort({firstCompleted:null,firstNew:null})}},displayEmpty:!0,className:t.selectEmpty,startAdornment:r.a.createElement(Jn.a,{position:"start"},r.a.createElement(Yn.a,null))},r.a.createElement(Yt.a,{value:""},r.a.createElement("em",null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430")),r.a.createElement(Ke.a,null),r.a.createElement(Yt.a,{value:"NEW_FIRST"},"\u041e\u0442 \u043d\u043e\u0432\u044b\u0445 \u043a \u0441\u0442\u0430\u0440\u044b\u043c"),r.a.createElement(Yt.a,{value:"OLD_FIRST"},"\u041e\u0442 \u0441\u0442\u0430\u0440\u044b\u0445 \u043a \u043d\u043e\u0432\u044b\u043c"),r.a.createElement(Ke.a,null),r.a.createElement(Yt.a,{value:"OPEN_FIRST"},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"),r.a.createElement(Yt.a,{value:"CLOSE_FIRST"},"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"))))})),qn=n(176),Qn=n.n(qn),ea=Object(Le.a)((function(e){return Object(Me.a)({formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}})})),ta={setFilter:Te},na=Object(i.b)((function(e){return{filter:e.tasks.filter}}),ta)((function(e){var t=ea();return r.a.createElement("div",null,r.a.createElement(Rt.a,{className:t.formControl},r.a.createElement(Hn.a,{value:!0===e.filter.status?"CLOSE":!1===e.filter.status?"OPEN":"",onChange:function(t){var n=t.target.value;e.setFilter({userIds:void 0,status:"OPEN"!==n&&("CLOSE"===n||null),content:void 0})},displayEmpty:!0,className:t.selectEmpty,startAdornment:r.a.createElement(Jn.a,{position:"start"},r.a.createElement(Qn.a,null))},r.a.createElement(Yt.a,{value:""},r.a.createElement("em",null,"\u041f\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0443")),r.a.createElement(Yt.a,{value:"OPEN"},"\u041d\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"),r.a.createElement(Yt.a,{value:"CLOSE"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435"))))})),aa=n(327),ra=n(330),ca=Object(Le.a)((function(e){return Object(Me.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(3)}}})})),sa={setFilter:Te},ia=Object(i.b)((function(e){return{users:e.users.users,filter:e.tasks.filter,tasks:e.tasks.tasks}}),sa)((function(e){var t=ca(),n=e.filter.userIds?e.filter.userIds.map((function(t){return e.users.filter((function(e){return e.id===t}))[0]})):[];return r.a.createElement("div",{className:t.root},r.a.createElement(ra.a,{onChange:function(t,n){var a=n.map((function(e){return e.id}));e.setFilter({userIds:a,status:void 0,content:void 0},!0)},disableClearable:!0,multiple:!0,id:"tags-outlined",options:e.users.filter((function(t){return e.tasks.filter((function(e){return e.author===t.id})).length>0})),getOptionLabel:function(e){return e.nickname},value:n,filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(aa.a,Object.assign({},e,{variant:"standard",label:"",placeholder:"\u0410\u0432\u0442\u043e\u0440\u044b"}))}}))})),oa=Object(Le.a)((function(e){return Object(Me.a)({root:{"& > *":{margin:e.spacing(1,0)}}})})),ua={setFilter:Te},la=Object(i.b)((function(e){return{filter:e.tasks.filter}}),ua)((function(e){var t=oa();return r.a.createElement("form",{style:{width:"100%"},className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(aa.a,{value:e.filter.content,onChange:function(t){e.setFilter({userIds:void 0,status:void 0,content:t.currentTarget.value})},id:"standard-basic",label:"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c\u0443: ",fullWidth:!0}))})),da=Object(i.b)((function(e){return{route:e.app.route}}))((function(e){var t=r.a.useState(!1),n=Object(Re.a)(t,2),a=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{button:!0,onClick:function(){c(!a)}},r.a.createElement(Xe.a,null,r.a.createElement(An.a,null)),r.a.createElement($e.a,{primary:"\u041f\u043e\u0438\u0441\u043a \u0437\u0430\u0434\u0430\u0447",primaryTypographyProps:{variant:"body1"}}),a?r.a.createElement(tt.a,null):r.a.createElement(at.a,null)),r.a.createElement(qe.a,{in:a,timeout:"auto",unmountOnExit:!0},r.a.createElement(He.a,{component:"div",disablePadding:!0},r.a.createElement(He.a,{disablePadding:!0},r.a.createElement(Bn,{rowNumber:1},r.a.createElement($n,null),r.a.createElement(na,null)),e.route===H.ROOT&&r.a.createElement(Bn,{rowNumber:2},r.a.createElement(ia,null)),r.a.createElement(Bn,{rowNumber:3},r.a.createElement(la,null))))))})),ma=Object(Le.a)((function(e){return Object(Me.a)({toolbar:e.mixins.toolbar,content:{flexGrow:1,padding:e.spacing(3)}})})),fa=function(){var e=ma();return r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement("div",{className:e.toolbar}),r.a.createElement(da,null),r.a.createElement(Cn,null))},pa=Object(Le.a)((function(e){return Object(Me.a)({root:{display:"flex"},drawer:Object(f.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(f.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),toolbar:e.mixins.toolbar,drawerPaper:{width:240}})})),Ea={appInitializing:function(){return function(){var e=Object(m.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=L.a.get("email"),a=L.a.get("password"),!n||!a){e.next=8;break}return e.next=6,t(G(n,a));case 6:e.next=9;break;case 8:t(z(!0));case 9:t(V(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(X(e.t0.message+" \u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},setRoute:function(e){return function(){var t=Object(m.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=d.a.keys(H);case 1:if((t.t1=t.t0()).done){t.next=11;break}if(a=t.t1.value,H[a]!==e){t.next=8;break}return n(Z(e)),t.abrupt("break",11);case 8:n(Z("404"));case 9:t.next=1;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ba=Object(o.d)(Pe.d,Object(i.b)((function(e){return{isInitialized:e.app.isInitialized,isAuth:e.auth.isAuth,loginFormShown:e.auth.loginFormShown,errors:e.app.errors}}),Ea))((function(e){var t=pa(),n=Object(Ue.a)(),c=r.a.useState(!1),s=Object(Re.a)(c,2),i=s[0],o=s[1],u=e.appInitializing;Object(a.useEffect)((function(){u()}),[u]);var l=e.history.location.pathname,d=e.history.push,m=e.setRoute;Object(a.useEffect)((function(){var e,t=!1;for(e in H)if(H[e]===l){m(l),t=!0;break}!t&&d("/404")}),[l,m,d]);var f=Object(Ae.b)().enqueueSnackbar,p=e.errors;Object(a.useEffect)((function(){p.length>0&&f(p[p.length-1],{variant:"error"})}),[p,f]);var E=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar}),r.a.createElement(Ke.a,null),r.a.createElement(Tt,null));return r.a.createElement("div",{className:t.root},r.a.createElement(Gt,{open:!e.isInitialized}),e.loginFormShown&&r.a.createElement(Ut,null),r.a.createElement(We.a,null),r.a.createElement(fn,null),r.a.createElement("nav",{className:t.drawer},r.a.createElement(ze.a,{smUp:!0,implementation:"css"},r.a.createElement(Ge.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:function(){o(!i)},classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},E)),r.a.createElement(ze.a,{xsDown:!0,implementation:"css"},r.a.createElement(Ge.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},E))),e.isAuth&&r.a.createElement(fa,null))}));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:Fe},r.a.createElement(Ae.a,{maxSnack:3},r.a.createElement(Ye.a,null,r.a.createElement(ba,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.cd9f6292.chunk.js.map